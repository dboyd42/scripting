#!/bin/bash
# Copyright 2020 David Boyd, all rights reserved
# Program: spoof-mac-addr-xclip.sh
# Description:
#     Spoof MAC address
#       1) turns wlan0 off
#       2) change MAC address to sys clip
#       3) turns wlan0 on
#       4) #test connection
#   NOTES: needs root privileges
# Date: 2020-02-28
# Revised:
# Dependencies: ip, macchanger, xclip

# Turn interface off
sudo ip link set down wlan0
wait

# Change MAC address
echo "Changing MAC address"
sudo macchanger -m $(xclip -o -sel clip) wlan0
wait

# Turn interface on
sudo ip link set up wlan0
wait

# Uncomment to ping
#echo -e "Checking connection..."
#ping -W3 -c3 google.com

